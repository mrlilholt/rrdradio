{"ast":null,"code":"var _jsxFileName = \"/Users/alilholt/rrdradio/riff-raff-deciders-radio/client/src/components/UploadModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from 'firebase/auth';\nimport UploadSection from './UploadSection';\nimport { app } from '../firebaseConfig';\nimport { Button, MenuItem, Select, InputLabel, FormControl, TextField } from '@mui/material';\nimport './UploadModal.css'; // <-- Add this import\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UploadModal = ({\n  closeModal\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [selectedOption, setSelectedOption] = useState('');\n  const [file, setFile] = useState(null);\n  const auth = getAuth(app);\n  const provider = new GoogleAuthProvider();\n  const handleGoogleSignIn = async () => {\n    try {\n      const result = await signInWithPopup(auth, provider);\n      setUser(result.user);\n    } catch (error) {\n      console.error('Google sign-in error:', error);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setUser(null);\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n  const handleSelectChange = event => {\n    setSelectedOption(event.target.value);\n  };\n  const handleFileChange = event => {\n    setFile(event.target.files[0]);\n  };\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, currentUser => {\n      if (currentUser) {\n        setUser(currentUser);\n      }\n    });\n    return () => unsubscribe();\n  }, [auth]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-modal\",\n      children: [user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [user.photoURL ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.photoURL,\n            alt: \"Profile\",\n            className: \"profile-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No profile image available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"secondary\",\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          margin: \"normal\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"select-label\",\n            children: \"Playlist Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"select-label\",\n            value: selectedOption,\n            onChange: handleSelectChange,\n            label: \"Playlist Type\",\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"\",\n              children: /*#__PURE__*/_jsxDEV(\"em\", {\n                children: \"None\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: 10,\n              children: \"Option 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: 20,\n              children: \"Option 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: 30,\n              children: \"Option 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          component: \"label\",\n          color: \"primary\",\n          style: {\n            marginTop: '20px'\n          },\n          children: [\"Upload MP3\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"audio/mp3\",\n            hidden: true,\n            onChange: handleFileChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UploadSection, {\n          currentUserEmail: user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sign in with Google to upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleGoogleSignIn,\n          children: \"Sign in with Google\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: closeModal,\n        style: {\n          marginTop: '20px'\n        },\n        children: \"Back to the Station\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(UploadModal, \"SRxQMbZlvU1sbywxsZ6XvqY1kBg=\");\n_c = UploadModal;\nexport default UploadModal;\nvar _c;\n$RefreshReg$(_c, \"UploadModal\");","map":{"version":3,"names":["React","useState","useEffect","getAuth","signInWithPopup","GoogleAuthProvider","onAuthStateChanged","signOut","UploadSection","app","Button","MenuItem","Select","InputLabel","FormControl","TextField","jsxDEV","_jsxDEV","Fragment","_Fragment","UploadModal","closeModal","_s","user","setUser","selectedOption","setSelectedOption","file","setFile","auth","provider","handleGoogleSignIn","result","error","console","handleLogout","handleSelectChange","event","target","value","handleFileChange","files","unsubscribe","currentUser","className","children","photoURL","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","onClick","fullWidth","margin","id","labelId","onChange","label","component","style","marginTop","type","accept","hidden","currentUserEmail","email","_c","$RefreshReg$"],"sources":["/Users/alilholt/rrdradio/riff-raff-deciders-radio/client/src/components/UploadModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from 'firebase/auth';\nimport UploadSection from './UploadSection';\nimport { app } from '../firebaseConfig';\nimport { Button, MenuItem, Select, InputLabel, FormControl, TextField } from '@mui/material';\nimport './UploadModal.css'; // <-- Add this import\n\nconst UploadModal = ({ closeModal }) => {\n  const [user, setUser] = useState(null);\n  const [selectedOption, setSelectedOption] = useState('');\n  const [file, setFile] = useState(null);\n  const auth = getAuth(app);\n  const provider = new GoogleAuthProvider();\n\n  const handleGoogleSignIn = async () => {\n    try {\n      const result = await signInWithPopup(auth, provider);\n      setUser(result.user);\n    } catch (error) {\n      console.error('Google sign-in error:', error);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setUser(null);\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n\n  const handleSelectChange = (event) => {\n    setSelectedOption(event.target.value);\n  };\n\n  const handleFileChange = (event) => {\n    setFile(event.target.files[0]);\n  };\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      if (currentUser) {\n        setUser(currentUser);\n      }\n    });\n    return () => unsubscribe();\n  }, [auth]);\n\n  return (\n    <div className=\"modal\">\n      <div className=\"upload-modal\">\n        {user ? (\n          <>\n            <div className=\"user-info\">\n              {user.photoURL ? (\n                <img src={user.photoURL} alt=\"Profile\" className=\"profile-image\" />\n              ) : (\n                <p>No profile image available</p>\n              )}\n              <Button variant=\"contained\" color=\"secondary\" onClick={handleLogout}>\n                Logout\n              </Button>\n            </div>\n            <FormControl fullWidth variant=\"outlined\" margin=\"normal\">\n              <InputLabel id=\"select-label\">Playlist Type</InputLabel>\n              <Select\n                labelId=\"select-label\"\n                value={selectedOption}\n                onChange={handleSelectChange}\n                label=\"Playlist Type\"\n              >\n                <MenuItem value=\"\">\n                  <em>None</em>\n                </MenuItem>\n                <MenuItem value={10}>Option 1</MenuItem>\n                <MenuItem value={20}>Option 2</MenuItem>\n                <MenuItem value={30}>Option 3</MenuItem>\n              </Select>\n            </FormControl>\n            <Button\n              variant=\"contained\"\n              component=\"label\"\n              color=\"primary\"\n              style={{ marginTop: '20px' }}\n            >\n              Upload MP3\n              <input\n                type=\"file\"\n                accept=\"audio/mp3\"\n                hidden\n                onChange={handleFileChange}\n              />\n            </Button>\n            <UploadSection currentUserEmail={user.email} />\n          </>\n        ) : (\n          <>\n            <h2>Sign in with Google to upload</h2>\n            <Button variant=\"contained\" color=\"primary\" onClick={handleGoogleSignIn}>\n              Sign in with Google\n            </Button>\n          </>\n        )}\n        <Button variant=\"contained\" color=\"primary\" onClick={closeModal} style={{ marginTop: '20px' }}>\n          Back to the Station\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default UploadModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}